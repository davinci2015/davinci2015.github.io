---
title: Stop using Feature Branches
slug: /feature-branch
image: ./images/feature-branch/branch.jpg
readingTime: 4
date: 11/20/2023
---

<Intro
  title={props.pageContext.frontmatter.title}
  readingTime={props.pageContext.frontmatter.readingTime}
  date={props.pageContext.frontmatter.date}
/>

![Feature branch](./images/feature-branch/branch.jpg)

You just had a sprint planning. The team decided to work on a new exciting AI feature that should solve real user's pain.
It is estimated that the feature should take approximately one week to be finished completely. 

Feature requirements are pretty clear so you can dive into the development. 
As a first step, you open a new feature branch `my-awesome-feature` and share it with the team to work on.

..._One week after_...

You are close to the finish line - everything went as expected. 
You decide that it's time for QA to step in and test the feature before it is released. 
So, your logical next step is to merge the feature branch to the test branch. 

_- Easy, right?_ 

_- Well, no._

Before we move to the issues that already have happened in the background, let's start with the one that will be straight in your face.   

## Conflicts

It is not uncommon thing that we often forget to update feature branches with the latest changes. 
If it happens that we don't update the feature branch for quite some time then we will inevitably end up with conflicts. 

I'm pretty sure that you have seen something like this before ðŸ‘‡

![Github conflicts](./images/feature-branch/conflicts.png)

I don't know about you, but seeing such conflicts makes me question my career choices. ðŸ˜…

Some conflicts are easy to resolve but some can give a real hit to developer's experience. 
Comparing different versions line-by-line can be an exhausting experience. 

Or even worse, we are risking messing up the commit history or introducing new bugs with incorrect conflict resolution. 

One way to minimize the risk of conflicts is to setup a reminder like this one:

![Slackbot reminder](./images/feature-branch/slackbot-reminder.png)

But there is a better way. Do not use (long-living) feature branches!

## Test as you go

Now that conflicts are resolved, we merge the feature to the test branch. 
QA can step in and test the feature. Testing the whole feature takes time and QA might get back to you with an exhaustive list of bugs. 

Do not use (long-living) feature branches. Shorten the feedback loop. 

As soon as there is a piece of code reasonable to test, it should be pushed to testing. 
It doesn't have to be a complete feature. Bugs that are caught earlier are less expensive that bugs caught later. 



## Code reviews

- It is easier to review smaller chunks than large pull requests.

## Ship value as soon as possible

- Deliver value in frequent chunks rather than working on a single piece for a longer period

## Feature flags or cookie guards

- How to release without exposing the feature to the user
- How to release without breaking changes

<Resources 
  type="article" 
  items={[
    {
      title: "Feature Toggles (aka Feature Flags)", 
      url: "https://martinfowler.com/articles/feature-toggles.html"
    }
  ]} 
/>